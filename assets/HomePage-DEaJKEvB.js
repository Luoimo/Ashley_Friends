import{g as L}from"./user-RvuDpnBg.js";import{d as N,e as i,r as n,c,o as t,a as p,w as o,f,k as b,F as _,l as g,h as D,t as F,m as R}from"./index-BR_c7jHa.js";const h=10,H=N({__name:"HomePage",setup(S){const s=i([]),l=i(!1),u=i(!1),r=i(!1);let d=1;const m=async()=>{l.value=!0;try{const a=(await L(d,h)).data.map(R);r.value&&(s.value=[],r.value=!1),s.value.push(...a),a.length<h?u.value=!0:d++}finally{l.value=!1}},y=async()=>{u.value=!1,d=1,await m()};return(k,a)=>{const w=n("van-tag"),V=n("van-card"),x=n("van-config-provider"),U=n("van-list"),B=n("van-pull-refresh");return t(),c("div",null,[p(B,{modelValue:r.value,"onUpdate:modelValue":a[1]||(a[1]=e=>r.value=e),onRefresh:y},{default:o(()=>[p(U,{loading:l.value,"onUpdate:loading":a[0]||(a[0]=e=>l.value=e),finished:u.value,"finished-text":"没有更多了",onLoad:m},{default:o(()=>[s.value.length>0?(t(),f(x,{key:0,"theme-vars":{cardBackground:"white"}},{default:o(()=>[(t(!0),c(_,null,g(s.value,e=>(t(),f(V,{key:e.id,title:e.username,thumb:e.avatarUrl},{tags:o(()=>[(t(!0),c(_,null,g(e.tags,(v,C)=>(t(),f(w,{key:v+C,plain:"",type:"primary"},{default:o(()=>[D(F(v),1)]),_:2},1024))),128))]),_:2},1032,["title","thumb"]))),128))]),_:1})):b("",!0)]),_:1},8,["loading","finished"])]),_:1},8,["modelValue"])])}}});export{H as default};
