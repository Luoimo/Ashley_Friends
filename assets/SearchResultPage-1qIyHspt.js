import{d as N,i as R,e as n,r as s,c as d,o as t,a as p,w as l,f as v,k as S,F as _,l as g,h as b,t as D,m as F}from"./index-DWdODraP.js";import{a as q}from"./user-BWtm1mNQ.js";const h=10,j=N({__name:"SearchResultPage",setup(z){const y=R(),o=n([]),k=n(y.query.selectedTags),r=n(!1),i=n(!1),u=n(!1);let c=1;const f=async()=>{r.value=!0;try{const a=(await q(k.value,c,h)).data.map(F);u.value&&(o.value=[],u.value=!1),o.value.push(...a),a.length<h?i.value=!0:c++}finally{r.value=!1}},w=async()=>{i.value=!1,c=1,await f()};return(V,a)=>{const x=s("van-tag"),B=s("van-card"),U=s("van-config-provider"),C=s("van-list"),L=s("van-pull-refresh");return t(),d("div",null,[p(L,{modelValue:u.value,"onUpdate:modelValue":a[1]||(a[1]=e=>u.value=e),onRefresh:w},{default:l(()=>[p(C,{loading:r.value,"onUpdate:loading":a[0]||(a[0]=e=>r.value=e),finished:i.value,"finished-text":"没有更多了",onLoad:f},{default:l(()=>[o.value.length>0?(t(),v(U,{key:0,"theme-vars":{cardBackground:"white"}},{default:l(()=>[(t(!0),d(_,null,g(o.value,e=>(t(),v(B,{key:e.id,title:e.username,thumb:e.avatarUrl},{tags:l(()=>[(t(!0),d(_,null,g(e.tags,(m,T)=>(t(),v(x,{key:m+T,plain:"",type:"primary"},{default:l(()=>[b(D(m),1)]),_:2},1024))),128))]),_:2},1032,["title","thumb"]))),128))]),_:1})):S("",!0)]),_:1},8,["loading","finished"])]),_:1},8,["modelValue"])])}}});export{j as default};
