import{d as k,i as y,u as U,b as w,e as s,r as o,f as V,o as x,w as r,a as l,g as C,h as N}from"./index-BR_c7jHa.js";import{u as S}from"./user-RvuDpnBg.js";const h={style:{margin:"16px"}},E=k({__name:"UserEditPage",setup(B){const u=y(),m=U(),c=w(),a=s(u.query.value||""),n=s(u.query.label||""),v=c.currentUser,p=async()=>{const e=s({...v,tags:JSON.stringify(v.tags)});d(e.value),await S(e.value),await c.getCurrentUser(),m.back()},d=e=>{switch(n.value){case"用户名":e.username=a.value;break;case"邮箱":e.email=a.value;break;case"电话":e.phone=a.value;break;case"头像":e.avatarUrl=a.value;break;default:console.warn("未知字段",n.value);return}};return(e,t)=>{const i=o("van-field"),_=o("van-cell-group"),f=o("van-button"),b=o("van-form");return x(),V(b,{onSubmit:p},{default:r(()=>[l(_,null,{default:r(()=>[l(i,{modelValue:a.value,"onUpdate:modelValue":t[0]||(t[0]=g=>a.value=g),label:n.value,placeholder:"请输入信息"},null,8,["modelValue","label"])]),_:1}),C("div",h,[l(f,{round:"",block:"",type:"primary","native-type":"submit"},{default:r(()=>[...t[1]||(t[1]=[N(" 提交 ",-1)])]),_:1})])]),_:1})}}});export{E as default};
